<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Depo Otomasyonu</title>
  <link rel="stylesheet" href="style.css"/>
  <style>
    :root { --bg:#0f172a; --card:#111827; --text:#e5e7eb; --muted:#94a3b8; }
    body { background:var(--bg); color:var(--text); font-family:system-ui, Arial, sans-serif; margin:0; }
    .hidden { display:none; }
    header { position:sticky;top:0;background:#1f2937;color:#fff;display:flex;justify-content:space-between;align-items:center;
             padding:12px 20px;z-index:50;border-bottom:1px solid #111827; }
    h1 { margin:0; font-size:18px; letter-spacing:.4px; }
    .menu-btn{background:#334155;color:#fff;border:none;border-radius:8px;padding:6px 10px;cursor:pointer;}
    .nav-menu{display:flex;gap:6px;flex-wrap:wrap;}
    .nav-menu.show{display:flex;}
    .nav-menu button{margin:3px;background:#0ea5e9;border:none;color:#00121a;padding:6px 10px;border-radius:6px;cursor:pointer;}
    .btn-light{background:#f1f5f9;color:#0f172a;border:none;padding:6px 10px;border-radius:6px;cursor:pointer;}
    .danger{background:#ef4444;color:white;border:none;padding:6px 10px;border-radius:6px;cursor:pointer;}
    .success{background:#22c55e;color:white;border:none;padding:6px 10px;border-radius:6px;cursor:pointer;}
    .pill{background:#64748b;color:white;border:none;padding:4px 8px;border-radius:999px;cursor:pointer;}
    .row{display:flex;gap:8px;align-items:center;}
    .col{display:flex;flex-direction:column;gap:8px;}
    .card{background:#0b1220;border:1px solid #1f2937;border-radius:10px;padding:12px;}
    table{width:100%;border-collapse:collapse;}
    th,td{border-bottom:1px solid #1f2937;padding:8px;font-size:14px;}
    th{text-align:left;color:#cbd5e1;background:#0b1220;position:sticky;top:0;}
    input,select{background:#0b1220;color:#e5e7eb;border:1px solid #1f2937;border-radius:6px;padding:6px 8px;}
    main{padding:16px;max-width:1200px;margin:0 auto;}
    .view h2{margin-top:0;}
    #userInfo{position:absolute;right:15px;top:12px;font-size:14px;color:#fff;opacity:.9;}
    #logoutBtn{background:#e53e3e;color:#fff;border:none;padding:6px 10px;border-radius:5px;cursor:pointer;margin-left:8px;}
    .not-picked{background:#1b2333;}
    .partial-picked{background:#2f2f1b;}
    .fully-picked{background:#1b3321;}
    .grid-2{display:grid;grid-template-columns:1fr 1fr;gap:12px;}
    @media (max-width:900px){.grid-2{grid-template-columns:1fr;}}
  </style>
</head>

<body>
<header>
  <h1>📦 TUĞLUBEY — Depo Otomasyonu</h1>
  <div class="row"><button id="menuToggle" class="menu-btn">☰</button></div>
  <div id="userInfo">👤 Giriş yapılmadı</div>

  <nav id="mainNav" class="nav-menu hidden">
    <button data-view="view-branch" data-role="sube" class="btn-light">Şube</button>
    <button data-view="view-manager" data-role="yonetici" class="btn-light">Yönetici</button>
    <button data-view="view-picker" data-role="toplayici" class="btn-light">Toplayıcı</button>
    <button data-view="view-qc" data-role="qc" class="btn-light">QC</button>
    <button data-view="view-palet" data-role="palet" class="btn-light">Paletleme</button>
    <button data-view="view-dashboard" data-role="admin" class="btn-light">Dashboard</button>
    <button data-view="view-stock" data-role="admin" class="btn-light">Stok Yönetimi</button>
    <button data-view="view-products" data-role="admin" class="btn-light">Ürünler</button>
    <button data-view="view-count" data-role="yonetici" class="btn-light">Sayım</button>
    <button id="logoutBtn" class="danger hidden">Çıkış</button>
  </nav>
</header>

<main>
  <!-- 🔐 Login -->
  <section id="view-login" class="view">
    <div class="grid-2">
      <div class="card">
        <h2>🔑 Giriş</h2>
        <div class="col">
          <input type="email" id="login-email" placeholder="Email"/>
          <input type="password" id="login-pass" placeholder="Şifre"/>
          <button id="loginBtn" class="success">Giriş</button>
        </div>
      </div>
      <div class="card">
        <h2>Yeni Kayıt</h2>
        <div class="col">
          <input type="email" id="reg-email" placeholder="Email"/>
          <input type="password" id="reg-pass" placeholder="Şifre"/>
          <select id="reg-role">
            <option value="sube">Şube</option>
            <option value="yonetici">Yönetici</option>
            <option value="toplayici">Toplayıcı</option>
            <option value="qc">QC</option>
            <option value="palet">Palet</option>
            <option value="admin">Admin</option>
          </select>
          <button id="registerBtn" class="btn-light">Kayıt Ol</button>
        </div>
      </div>
    </div>
  </section>

  <!-- Diğer bölümler -->
  <!-- (tam sürüm app.js ile senkron, burada yeniden yazmaya gerek yok) -->
</main>

<!-- Libs -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdn.jsdelivr.net/npm/qrcode/build/qrcode.min.js"></script>
<script src="https://unpkg.com/html5-qrcode@2.3.10/minified/html5-qrcode.min.js"></script>

<!-- App -->
<script type="module" src="./app.js"></script>
<script>
window.addEventListener("DOMContentLoaded", () => {
  if (typeof showView === "function") showView("view-login");
});
</script>
</body>
</html>
