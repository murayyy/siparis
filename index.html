<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <title>Depo SipariÅŸ PWA</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <link rel="stylesheet" href="style.css" />

  <!-- PWA manifest -->
  <link rel="manifest" href="manifest.webmanifest" />
  <meta name="theme-color" content="#111827" />

  <!-- Icons (optional) -->
  <link rel="icon" type="image/png" href="icon-192.png" />
</head>
<body>
  <header class="app-header">
    <div class="app-title">
      <span class="logo-box">ğŸ“¦</span>
      <div>
        <h1>Depo SipariÅŸ YÃ¶netimi</h1>
        <p class="subtitle">Åube sipariÅŸleri Â· Toplama Â· Kontrol</p>
      </div>
    </div>
    <div class="app-user">
      <span id="userInfo"></span>
      <button id="logoutBtn" class="btn-outline hidden">Ã‡Ä±kÄ±ÅŸ</button>
    </div>
  </header>

  <nav class="app-nav hidden" id="mainNav">
    <button class="nav-btn" data-view="manager-view">YÃ¶netici Paneli</button>
    <button class="nav-btn" data-view="picker-view">ToplayÄ±cÄ± Paneli</button>
  </nav>

  <main class="app-main">
    <!-- LOGIN VIEW -->
    <section id="login-view" class="view active">
      <div class="card">
        <h2>GiriÅŸ Yap</h2>
        <form id="loginForm" class="form">
          <label>
            E-posta
            <input type="email" id="loginEmail" required />
          </label>

          <label>
            Åifre
            <input type="password" id="loginPassword" required />
          </label>

          <button type="submit" class="btn-primary full">GiriÅŸ</button>
        </form>
        <p class="hint">
          KullanÄ±cÄ±lar Firestore'da <strong>users</strong> koleksiyonunda tutulur.
          Rol: <code>manager</code> veya <code>picker</code>.
        </p>
      </div>
    </section>

    <!-- MANAGER VIEW -->
    <section id="manager-view" class="view hidden">
      <div class="grid-2">
        <!-- Yeni SipariÅŸ OluÅŸturma -->
        <div class="card">
          <h2>Yeni SipariÅŸ OluÅŸtur</h2>
          <form id="createOrderForm" class="form">
            <label>
              Åube AdÄ±
              <input type="text" id="branchName" required placeholder="Ã–rn: EskiÅŸehir Åube" />
            </label>

            <div id="orderItemsContainer"></div>

            <button type="button" id="addItemBtn" class="btn-secondary small">
              + SatÄ±r Ekle
            </button>

            <button type="submit" class="btn-primary full" style="margin-top: 12px;">
              SipariÅŸi Kaydet
            </button>
          </form>
        </div>

        <!-- SipariÅŸ Listesi -->
        <div class="card">
          <div class="card-header-row">
            <h2>SipariÅŸler</h2>
            <select id="orderStatusFilter" class="input">
              <option value="all">TÃ¼mÃ¼</option>
              <option value="new">Yeni</option>
              <option value="assigned">AtanmÄ±ÅŸ</option>
              <option value="picking">ToplanÄ±yor</option>
              <option value="completed">TamamlandÄ±</option>
            </select>
          </div>

          <div id="ordersList" class="list"></div>
        </div>
      </div>
    </section>

    <!-- PICKER VIEW -->
    <section id="picker-view" class="view hidden">
      <div class="card">
        <h2>Toplanacak SipariÅŸlerim</h2>
        <div id="pickerOrdersList" class="list"></div>
      </div>

      <div class="card">
        <h2>SipariÅŸ DetayÄ±</h2>
        <div id="pickerOrderDetail" class="order-detail empty-state">
          SipariÅŸ seÃ§iniz.
        </div>
      </div>
    </section>
  </main>

  <footer class="app-footer">
    <small>Depo PWA Â· Murat Demir iÃ§in Ã¶zel yapÄ± âœŒï¸</small>
  </footer>

  <!-- Uygulama scriptleri -->
  <script type="module" src="app.js"></script>
</body>
</html>
